{"remainingRequest":"/Users/k/workspace/editor/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/k/workspace/editor/node_modules/docz-core/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/k/workspace/editor/node_modules/source-map-loader/index.js!/Users/k/workspace/editor/src/core/Editor/index.tsx","dependencies":[{"path":"/Users/k/workspace/editor/src/core/Editor/index.tsx","mtime":1611916290424},{"path":"/Users/k/workspace/editor/node_modules/cache-loader/dist/cjs.js","mtime":1609829982012},{"path":"/Users/k/workspace/editor/node_modules/thread-loader/dist/cjs.js","mtime":1609829984362},{"path":"/Users/k/workspace/editor/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1609814039984},{"path":"/Users/k/workspace/editor/node_modules/source-map-loader/index.js","mtime":1604992247612}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9rL3dvcmtzcGFjZS9lZGl0b3Ivbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwoKdmFyIF90aGlzID0gdGhpcywKICAgIF9qc3hGaWxlTmFtZSA9ICIvVXNlcnMvay93b3Jrc3BhY2UvZWRpdG9yL3NyYy9jb3JlL0VkaXRvci9pbmRleC50c3giOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCnZhciBfX3NpZ25hdHVyZV9fID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsWyJkZWZhdWx0Il0uc2lnbmF0dXJlIDogZnVuY3Rpb24gKGEpIHsKICByZXR1cm4gYTsKfTsKCmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gInJlYWN0IjsKaW1wb3J0IHsgRWRpdG9yLCBFZGl0b3JTdGF0ZSwgUmljaFV0aWxzIH0gZnJvbSAiZHJhZnQtanMiOwppbXBvcnQgImRyYWZ0LWpzL2Rpc3QvRHJhZnQuY3NzIjsKaW1wb3J0ICIuL2luZGV4Lmxlc3MiOwppbXBvcnQgVG9vbGJhciBmcm9tICIuLi9Ub29sYmFyIjsKaW1wb3J0IEJvbGQgZnJvbSAiLi4vLi4vY29udHJvbHMvQm9sZCI7CgppZiAodHlwZW9mIFJlYWN0RWRpdG9yUHJvcHMgIT09ICd1bmRlZmluZWQnICYmIFJlYWN0RWRpdG9yUHJvcHMgJiYgUmVhY3RFZGl0b3JQcm9wcyA9PT0gT2JqZWN0KFJlYWN0RWRpdG9yUHJvcHMpICYmIE9iamVjdC5pc0V4dGVuc2libGUoUmVhY3RFZGl0b3JQcm9wcykpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhY3RFZGl0b3JQcm9wcywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIlJlYWN0RWRpdG9yUHJvcHMiLAogICAgICBmaWxlbmFtZTogInNyYy9jb3JlL0VkaXRvci9pbmRleC50c3giCiAgICB9CiAgfSk7Cn0KCnZhciBSZWFjdEVkaXRvciA9IGZ1bmN0aW9uIFJlYWN0RWRpdG9yKCkgewogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gRWRpdG9yU3RhdGUuY3JlYXRlRW1wdHkoKTsKICB9KSwKICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksCiAgICAgIGVkaXRvclN0YXRlID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0RWRpdG9yU3RhdGUgPSBfdXNlU3RhdGUyWzFdOwoKICB2YXIgaGFuZGxlS2V5Q29tbWFuZCA9IGZ1bmN0aW9uIGhhbmRsZUtleUNvbW1hbmQoY29tbWFuZCwgZWRpdG9yU3RhdGUpIHsKICAgIHZhciBuZXdTdGF0ZSA9IFJpY2hVdGlscy5oYW5kbGVLZXlDb21tYW5kKGVkaXRvclN0YXRlLCBjb21tYW5kKTsKCiAgICBpZiAobmV3U3RhdGUpIHsKICAgICAgc2V0RWRpdG9yU3RhdGUobmV3U3RhdGUpOwogICAgICByZXR1cm4gImhhbmRsZWQiOwogICAgfQoKICAgIHJldHVybiAibm90LWhhbmRsZWQiOwogIH07CgogIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgY2xhc3NOYW1lOiAicmVhY3QtZWRpdG9yIiwKICAgIF9fc2VsZjogX3RoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOCwKICAgICAgY29sdW1uTnVtYmVyOiA1CiAgICB9CiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbGJhciwgewogICAgY29udHJvbHM6IFtCb2xkXSwKICAgIF9fc2VsZjogX3RoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAzOSwKICAgICAgY29sdW1uTnVtYmVyOiA3CiAgICB9CiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICBjbGFzc05hbWU6ICJyZWFjdC1lZGl0b3ItY29udGVudCIsCiAgICBzdHlsZTogewogICAgICBoZWlnaHQ6IDMwMAogICAgfSwKICAgIF9fc2VsZjogX3RoaXMsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiA0MCwKICAgICAgY29sdW1uTnVtYmVyOiA3CiAgICB9CiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRWRpdG9yLCB7CiAgICBlZGl0b3JTdGF0ZTogZWRpdG9yU3RhdGUsCiAgICBvbkNoYW5nZTogc2V0RWRpdG9yU3RhdGUsCiAgICBoYW5kbGVLZXlDb21tYW5kOiBoYW5kbGVLZXlDb21tYW5kLAogICAgX19zZWxmOiBfdGhpcywKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDQxLAogICAgICBjb2x1bW5OdW1iZXI6IDkKICAgIH0KICB9KSkpOwp9OwoKX19zaWduYXR1cmVfXyhSZWFjdEVkaXRvciwgInVzZVN0YXRle1tlZGl0b3JTdGF0ZSwgc2V0RWRpdG9yU3RhdGVdKCgpID0+XG4gICAgRWRpdG9yU3RhdGUuY3JlYXRlRW1wdHkoKSl9Iik7Cgp2YXIgX2RlZmF1bHQgPSBSZWFjdEVkaXRvcjsKZXhwb3J0IGRlZmF1bHQgX2RlZmF1bHQ7CgppZiAodHlwZW9mIFJlYWN0RWRpdG9yICE9PSAndW5kZWZpbmVkJyAmJiBSZWFjdEVkaXRvciAmJiBSZWFjdEVkaXRvciA9PT0gT2JqZWN0KFJlYWN0RWRpdG9yKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKFJlYWN0RWRpdG9yKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFjdEVkaXRvciwgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIlJlYWN0RWRpdG9yIiwKICAgICAgZmlsZW5hbWU6ICJzcmMvY29yZS9FZGl0b3IvaW5kZXgudHN4IgogICAgfQogIH0pOwp9Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciByZWFjdEhvdExvYWRlciA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5kZWZhdWx0IDogdW5kZWZpbmVkOwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihSZWFjdEVkaXRvciwgIlJlYWN0RWRpdG9yIiwgIi9Vc2Vycy9rL3dvcmtzcGFjZS9lZGl0b3Ivc3JjL2NvcmUvRWRpdG9yL2luZGV4LnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKF9kZWZhdWx0LCAiZGVmYXVsdCIsICIvVXNlcnMvay93b3Jrc3BhY2UvZWRpdG9yL3NyYy9jb3JlL0VkaXRvci9pbmRleC50c3giKTsKfSkoKTsKCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGxlYXZlTW9kdWxlID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmxlYXZlTW9kdWxlIDogdW5kZWZpbmVkOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["/Users/k/workspace/editor/src/core/Editor/index.tsx"],"names":["React","useState","Editor","EditorState","RichUtils","Toolbar","Bold","ReactEditor","createEmpty","editorState","setEditorState","handleKeyCommand","command","newState","height"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAoBC,QAApB,QAAoC,OAApC;AACA,SACEC,MADF,EAEEC,WAFF,EAIEC,SAJF,QAOO,UAPP;AAQA,OAAO,yBAAP;AACA,OAAO,cAAP;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;;;;;;;;;;;;;AAMA,IAAMC,WAAiC,GAAG,SAApCA,WAAoC,GAAM;AAAA,kBACRN,QAAQ,CAAC;AAAA,WAC7CE,WAAW,CAACK,WAAZ,EAD6C;AAAA,GAAD,CADA;AAAA;AAAA,MACvCC,WADuC;AAAA,MAC1BC,cAD0B;;AAK9C,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CACvBC,OADuB,EAEvBH,WAFuB,EAGF;AACrB,QAAMI,QAAQ,GAAGT,SAAS,CAACO,gBAAV,CAA2BF,WAA3B,EAAwCG,OAAxC,CAAjB;;AACA,QAAIC,QAAJ,EAAc;AACZH,MAAAA,cAAc,CAACG,QAAD,CAAd;AACA,aAAO,SAAP;AACD;;AAED,WAAO,aAAP;AACD,GAXD;;AAaA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,QAAQ,EAAE,CAACP,IAAD,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAsC,IAAA,KAAK,EAAE;AAAEQ,MAAAA,MAAM,EAAE;AAAV,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,WAAW,EAAEL,WADf;AAEE,IAAA,QAAQ,EAAEC,cAFZ;AAGE,IAAA,gBAAgB,EAAEC,gBAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF;AAYD,CA9BD;;cAAMJ,W;;eAgCSA,W;AAAf;;;;;;;;;;;;;;;;;;;;;;0BAhCMA,W","sourcesContent":["import React, { FC, useState } from \"react\";\nimport {\n  Editor,\n  EditorState,\n  DraftEditorCommand,\n  RichUtils,\n  Modifier,\n  DraftHandleValue\n} from \"draft-js\";\nimport \"draft-js/dist/Draft.css\";\nimport \"./index.less\";\nimport Toolbar from \"../Toolbar\";\nimport Bold from \"../../controls/Bold\";\n\nexport type ReactEditorProps = {\n  type: \"my\";\n};\n\nconst ReactEditor: FC<ReactEditorProps> = () => {\n  const [editorState, setEditorState] = useState(() =>\n    EditorState.createEmpty()\n  );\n\n  const handleKeyCommand = (\n    command: DraftEditorCommand,\n    editorState: EditorState\n  ): DraftHandleValue => {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      setEditorState(newState);\n      return \"handled\";\n    }\n\n    return \"not-handled\";\n  };\n\n  return (\n    <div className=\"react-editor\">\n      <Toolbar controls={[Bold]} />\n      <div className=\"react-editor-content\" style={{ height: 300 }}>\n        <Editor\n          editorState={editorState}\n          onChange={setEditorState}\n          handleKeyCommand={handleKeyCommand}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ReactEditor;\n"]}]}